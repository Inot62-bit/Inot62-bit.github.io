<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Blutdruck ‚Äì G√§steseite</title>

<style>

/* -------- –û–±—â–∏–µ —Å—Ç–∏–ª–∏ -------- */
.table-wrapper {
    overflow-x: auto;
    width: 100%;
    -webkit-overflow-scrolling: touch;
    margin-top: 15px;
}

table {
    width: 950px;
    border-collapse: collapse;
    margin-top: 20px;
    font-family: Arial;
    font-size: 17px;
}

th {
    background-color: #e3eaf3;
    color: #2a3b55;
    padding: 10px;
    border: 1px solid #c5d1df;
}

td {
    padding: 10px;
    border: 1px solid #c5d1df;
    text-align: center;
    background-color: #f8fafc;
    white-space: pre-line;
}

tr:nth-child(even) td {
    background-color: #f0f4f8;
}

button {
    margin-top: 10px;
    padding: 10px 18px;
    background-color: #2a3b55;
    color: white;
    border: none;
    border-radius: 5px;
    font-size: 15px;
}

button:hover {
    background-color: #1e2c40;
}

.btn-row {
    display: flex;
    justify-content: center;
    gap: 10px;
    flex-wrap: wrap;
    margin-top: 15px;
}

.bp-chart-container {
    width: 100%;
    overflow-x: auto;
    margin: 25px auto;
}

canvas {
    width: 100% !important;
    height: auto !important;
}

/* -------- PDF -------- */
@media print {
    header, .header, .site-header, nav, .navbar, img {
        display: none !important;
    }
    h1, h2, h3 {
        display: none !important;
    }
    #headerBlock h1 {
        display: block !important;
        font-size: 18px !important;
    }
    .bp-chart-container {
        display: none !important;
    }
    table {
        width: 100% !important;
        font-size: 11px !important;
    }
    th, td {
        padding: 3px !important;
        border: 1px solid #777 !important;
    }
    .btn-row,
    #langDE, #langRU {
        display: none !important;
    }
    body {
        margin: 0 !important;
        padding: 0 !important;
    }
}

</style>
</head>
<body>

<!-- -------- –ö–æ–Ω—Ç–µ–Ω—Ç -------- -->
<div id="guestContent">

    <!-- –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —è–∑—ã–∫–∞ -->
    <div style="text-align:center; margin-top:15px; font-family:Arial;">
        <button id="langDE" style="padding:8px 15px; margin-right:10px;">üá©üá™ Deutsch</button>
        <button id="langRU" style="padding:8px 15px;">üá∑üá∫ –†—É—Å—Å–∫–∏–π</button>
    </div>

    <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ -->
    <div id="headerBlock"
         style="text-align:center; margin-top:20px; font-family:Arial; color:#2a3b55; max-width:90%; margin-left:auto; margin-right:auto;">
    </div>

    <!-- –ì—Ä–∞—Ñ–∏–∫ -->
    <div class="bp-chart-container">
        <canvas id="bpChart"></canvas>
    </div>

    <!-- –¢–∞–±–ª–∏—Ü–∞ -->
    <div class="table-wrapper">
        <table id="bpTable">
            <thead id="tableHead"></thead>
            <tbody></tbody>
        </table>
    </div>

    <!-- –ö–Ω–æ–ø–∫–∏ -->
    <div class="btn-row" id="buttonRow"></div>

</div> <!-- /guestContent -->

<!-- Chart.js -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<script>

/* -------- –¢–µ–∫—Å—Ç—ã DE / RU -------- */
const LANG = {
    de: {
        headerTitle: "",
        explain: "Jeder Gast kann hier sein eigenes Blutdrucktagebuch f√ºhren.\nDie Daten werden NUR lokal auf diesem Ger√§t gespeichert.",
        tableHead: `
            <tr>
                <th>Datum</th>
                <th>Uhrzeit</th>
                <th>Systolisch</th>
                <th>Diastolisch</th>
                <th>Puls</th>
                <th>Anmerkungen</th>
            </tr>
        `,
        buttons: `
            <button onclick="setGuestFirstName()">Vorname eingeben</button>
            <button onclick="setGuestLastName()">Nachname eingeben</button>
            <button onclick="setGuestBirthdate()">Geburtsdatum eingeben</button>
            <button onclick="addEntry()">Eintrag hinzuf√ºgen</button>
            <button onclick="deleteLast()">Letzten Eintrag l√∂schen</button>
            <button onclick="clearToday()">Heutige l√∂schen</button>
            <button onclick="clearAll()">Alles l√∂schen</button>
            <button onclick="exportCSV()">CSV exportieren</button>
            <button onclick="savePDF()">PDF speichern</button>
        `,
        prompts: {
            sys: "Systolischen Wert eingeben:",
            dia: "Diastolischen Wert eingeben:",
            pulse: "Puls eingeben:",
            note: "Notiz eingeben:",
            deleteConfirm: "Alle Eintr√§ge l√∂schen?",
            deleteError: "Keine Eintr√§ge.",
            todayEmpty: "Heute keine Eintr√§ge.",
            firstName: "Bitte Vornamen eingeben:",
            lastName: "Bitte Nachnamen eingeben:",
            birthdate: "Bitte Geburtsdatum eingeben (z.B. 12.07.1962):"
        }
    },
